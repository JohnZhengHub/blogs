
红黑树
二叉查找树的复杂度有其树的高度决定，如果高度较低时增、删、查等操作执行较快，然而如果树的高度较高时，这些操作复杂度较大，在最坏情况下复杂度为O(n).红黑树是结合平衡二叉树和二叉搜索树的特性，可以保证在最坏情况下这些操作时间复杂度为O(logn).
红黑树主要通过5个特性来使得红黑树是一棵近似平衡二叉树，其五个特性如下：
 1. 每个结点或是红色的，或是黑色的
 2. 根结点是黑色的
 3. 每个叶结点NIL是黑色的.
 4. 如果一个结点是红色的,则它的两个子结点是黑色的
 5. 对于每个结点，该结点到其所有后代结点的简单路径上,均包含相同数据的黑色结点.

红黑树的插入、删除和查找操作都是O(logn )
高度至多为 2log(n+1)

## 插入
Z为插入节点

情况1，如果z的叔公节点是红色的。

将z的父节点和叔公节点设置为黑色，并将祖父节点设置为红色。并将祖父节点作为新结点z，然后循环调整。

情况2, 如果z的叔公节点是黑色，并且z是一个右孩子。

当前节点的父节点做为新的当前节点，以新当前节点为支点左旋

情况3，如果z的叔公节点是黑色，并且z是一个左孩子。
父节点变为黑色，祖父节点变为红色，以父节点为支点右旋，

## 删除

 1. 没有儿子，即为叶结点。直接把父结点的对应儿子指针设为NULL，删除儿子结点就OK了。
 2. 只有一个儿子。那么把父结点的相应儿子指针指向儿子的独生子，删除儿子结点也OK了。
 3. 有两个儿子。则我们可以选择左儿子中的最大元素或者右儿子中的最小元素放到待删除节点的位置，就可以保证结构的不变。然后删除替换的节点。因为删除以后会破坏红黑树的平衡条件，所以需要进行调整。调整分为以下四种情况。

X指向以及删除节点的位置，是之前删除节点y的右孩子节点。

情况1，x的兄弟结点w是红色的
把父节点染成红色，把兄弟结点染成黑色，以兄弟节点为支点进行左旋。之后重新进入算法

情况2，x的兄弟节点w是黑色的，而且w的两个结点都是黑色的。
把兄弟节点w变成染红，把父节点当成新的当前节点，重新进入算法。

情况3，x的兄弟节点w是黑色的，w的左孩子是红色的，w的右孩子是黑色的。
把兄弟结点染红，兄弟左子节点染黑，之后再在兄弟节点为支点解右旋，之后重新进入算法。

情况4，x的兄弟节点w是黑色的，w的右孩子是红色的。
把兄弟节点染成当前节点父节点的颜色，把当前节点父节点染成黑色，兄弟节点右子染成黑色，之后以当前节点的父节点为支点进行左旋，此时算法结束，红黑树所有性质调整正确

http://blog.csdn.net/v_JULY_v/article/details/6105630
